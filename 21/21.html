<!DOCTYPE HTML>
<html>
<body>

	<script>
    var a,b,c,d,x;
  a=0;
  b=0;
  c=0;
  d=0;
  x=0;
  a=parseInt(a);
  b=parseInt(b);
  c=parseInt(c);
  d=parseInt(d);
  alert('Здравствуйте. Вас приветствует игра "21". Давайте начнем. Берите карту.');
  
  // цикл на хватит или еще 
  for(;;) {
    a=(Math.floor(Math.random() * 10) + 2);
    if((x=='хватит')||(x=='Хватит')){
       break ;
        alert(a);
    };
    // условие на номинал туза
    if(a==11) {
      a=+prompt('Вам выпал Туз. Введите пожалуйста, каким номиналом его считать: 1 или 11?');
      
      // цикл пока не введется 1 или 11
      for(;;) {
        if(a==1||a==11) {
        break;
      } else {
        a=+prompt('Введите число 1 либо 11.')
    }}; alert('Вы выбрали номинал '+a);}
      // Валет
    if (a==2) {
      alert('Вам выпал Валет');};
      // Дама
    if (a==3) {
      alert('Вам выпала Дама');};
      // Король 
    if (a==4) {
      alert('Вам выпал Король');};
      // 5,6,7,8,9,10 
	if (a>=5&&a<11) {
    alert('Вам выпадает карта '+a); };
    b=b+a;
    c=c+1;
      // Цикл если первые две карты- это тузы.
	for(y=2;y==c;) {
       if(b==22){
         alert('Вам выпало 21 за две карты. Вы - везунчик!!!');
         b=21;
         break;
       } else {
         break; };
    };
      // условие на остановку цикла "хватит или еще", когда 20 очков и 21.
	if(b==21||b==20) {
      alert('Отлично, у вас '+b+'!!!');
      break;  };
	  // условие на остановку цикла "хватит или еще, когда перебор".
    if(b>21) {
      alert('У вас '+b+' очков. К сожалению, это перебор. ');
      break;};
	  
    alert('Сумма Ваших карт = '+b);
    x=prompt('Напишите "хватит", если Вам больше не нужна карта или нажмите  Enter, если хотите взять еще одну карту.');
  }; 
    // рандомное число компу и условия на сравнения двух результатов.
  d=(Math.floor(Math.random() * 8) + 16);
  alert('А у меня '+d+' очков.');
 
  if(b<22&&d<22) {
    if(b>d){
        alert('Вы выиграли!!! Дадите отыграться?');
     } else if (b<d) {
         alert('Вы проиграли. В следующий раз Вам обязательно повезет.');
     } else if(b==d) {
         alert('На этот раз у нас ничья. Сыграем еще?');
     }};
  if (b>21&&d>21) {
    alert('Перебор у нас двоих. Сыграем еще?'); };
  if (b==21&&d==21) {
     alert('21 и у Вас и у меня. Ничья, сыграем еще?');};
  if (b>21&&d<=21) {
     alert('Вы проиграли. в следующий раз Вам обязательно повезет.');}
  if (b<=21&&d>21) {
     alert('Вы выиграли!!! Но я еще отыграюсь.');};
	
	</script>

</body>
</html>